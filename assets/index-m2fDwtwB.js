(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function l(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(s){if(s.ep)return;s.ep=!0;const n=l(s);fetch(s.href,n)}})();const u={_origin:"https://api.emailjs.com"},L=(e,t="https://api.emailjs.com")=>{u._userID=e,u._origin=t},v=(e,t,l)=>{if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!l)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class f{constructor(t){this.status=t.status,this.text=t.responseText}}const g=(e,t,l={})=>new Promise((a,s)=>{const n=new XMLHttpRequest;n.addEventListener("load",({target:o})=>{const r=new f(o);r.status===200||r.text==="OK"?a(r):s(r)}),n.addEventListener("error",({target:o})=>{s(new f(o))}),n.open("POST",u._origin+e,!0),Object.keys(l).forEach(o=>{n.setRequestHeader(o,l[o])}),n.send(t)}),E=(e,t,l,a)=>{const s=a||u._userID;return v(s,e,t),g("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:s,service_id:e,template_id:t,template_params:l}),{"Content-type":"application/json"})},b=e=>{let t;if(typeof e=="string"?t=document.querySelector(e):t=e,!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t},w=(e,t,l,a)=>{const s=a||u._userID,n=b(l);v(s,e,t);const o=new FormData(n);return o.append("lib_version","3.2.0"),o.append("service_id",e),o.append("template_id",t),o.append("user_id",s),g("/api/v1.0/email/send-form",o)},y={init:L,send:E,sendForm:w};y.init("sbsKP6cxLV1RTHhfM");function S(e,t,l){const a=i=>{const d=i.split(" ");return d.length===2&&d[0].length>2&&d[1].length>2},s=i=>i.length===15,n=i=>/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(i),o={phone:s(t),email:n(l),fullName:a(e)};return{isValid:o.phone&&o.email&&o.fullName,validateFullForm:o}}function N(){const e=document.getElementById("fullName");e.addEventListener("input",()=>{const s=e.value.replace(/[^а-яА-ЯёЁ\s]/g,"").split(/\s+/);s.length>2&&(s.length=2),e.value=s.join(" ")}),document.getElementById("phone").addEventListener("input",a=>{let s=a.target.value.replace(/\D/g,""),n="8 ";s.length>1&&(n+=`${s.slice(1,4)} `),s.length>=4&&(n+=`${s.slice(4,7)} `),s.length>=7&&(n+=`${s.slice(7,9)} `),s.length>=9&&(n+=`${s.slice(9,11)}`),a.target.value=n.trim()});const l=document.getElementById("email");l.addEventListener("input",()=>{let a=l.value;l.value=a.replace(/[^a-zA-Z0-9@._-]/g,"")})}function T(){const e=document.querySelector("form"),t=e.querySelector(".input__name"),l=e.querySelector(".input__email"),s={phone:e.querySelector(".input__phone"),email:l,fullName:t},n=e.querySelector(".challenge__button");e.addEventListener("submit",o=>{o.preventDefault();const r=new FormData(e),i=Object.fromEntries(r.entries()),{isValid:d,validateFullForm:h}=S(i.fullName,i.phone,i.email);d?(n.disabled=!0,e.classList.add("loader"),y.send("service_16o9y43","template_v2bgugl",{from_name:"Алексей",to_name:"Гротеск",fullName:i.fullName,email:i.email,phone:i.phone}).then(()=>{e.reset(),alert("Email отправлен!")}).catch(c=>alert("Ошибка: "+c.text)).finally(()=>{n.disabled=!1,e.classList.remove("loader")}),Object.keys(h).forEach(c=>{s[c].classList.remove("error")})):Object.keys(h).forEach(c=>{h[c]?s[c].classList.remove("error"):s[c].classList.add("error")})})}class q{constructor({content:t="",className:l="",outsideClick:a=!0,outsideContains:s="",whereAdd:n="document",handleToggle:o}={}){this.content=t,this.className=l,this.outsideClick=a,this.whereAdd=n,this.modalElement=null,this.outsideContains=s,this.isOpen=!1,this.eventClose=this.handleOutsideClick.bind(this),this.handleToggle=o}render(){const t=document.createElement("div");if(t.classList.add("modal"),this.className&&t.classList.add(`modal__${this.className}`),t.innerHTML=`
        <div class="modal__content ${this.className?`modal__content-${this.className}`:""}">
            <div class="modal__body ${this.className?`modal__body-${this.className}`:""}">${this.content}</div>
        </div>
        `,this.whereAdd==="document")document.body.appendChild(t);else{const l=document.querySelector(this.whereAdd);l.insertBefore(t,l.childNodes[0])}this.modalElement=t}open(){this.render(),this.init(),this.isOpen=!0,this.outsideClick&&(document.body.style.overflow="hidden"),this.handleToggle&&this.handleToggle()}close(){this.isOpen=!1,this.eventClose&&this.outsideClick&&window.removeEventListener("click",this.eventClose),this.outsideClick&&(document.body.style.overflow="visible"),this.modalElement&&(this.modalElement.remove(),this.modalElement=null),this.handleToggle&&this.handleToggle()}init(){const t=document.querySelectorAll(".close__modal");t&&t.forEach(l=>{l.addEventListener("click",()=>this.close())}),this.outsideClick&&window.addEventListener("click",this.eventClose)}handleOutsideClick(t){(t.target.classList.contains("modal")||t.target.classList.contains("modal__content")||t.target.classList.contains(this.outsideContains))&&this.close()}}const p=document.querySelector(".header__burger"),_=document.querySelector(".header__close");function C(){document.querySelector(".header__button").addEventListener("click",O)}function O(){m.isOpen?m.close():m.open()}function F(){m.isOpen?(p.style.display="none",_.style.display="block"):(p.style.display="block",_.style.display="none")}const m=new q({content:`<section class="menu">
        <h3 class="H3">Меню</h3>
        <hr class="menu__divider">
        <nav class="menu__nav">
            <a href="#team" class="tab primary close__modal">
                <span class="T3 menu__text">Первый экран</span>
            </a>
            <a href="#features" class="tab primary close__modal">
                <span class="T3 menu__text">Слайдер</span>
            </a>
            <a href="#answers" class="tab primary close__modal">
                <span class="T3 menu__text">Интересные ответы</span>
            </a>
            <a href="#challenge" class="tab primary close__modal">
                <span class="T3 menu__text">Форма обратной связи</span>
            </a>
        </nav>
    </section>`,className:"menu",whereAdd:".header__wrapper",outsideContains:"header__main",handleToggle:F}),k=document.querySelector(".team__img-3"),x=()=>{A(".accordion__button",D),j(".switch__color",I),C(),B(),N(),T()};function D(e){e.closest(".accordion").classList.toggle("hidden")}function I(){k.classList.toggle("reverse")}function j(e,t){const l=document.querySelector(e);l.addEventListener("click",()=>t(l))}function A(e,t){document.querySelectorAll(e).forEach(a=>{a.addEventListener("click",()=>t(a))})}function B(){const e=document.querySelector(".features__slider"),t=document.querySelector(".features__buttons-arrow1"),l=document.querySelector(".features__buttons-arrow2");let a=!1,s,n;e.addEventListener("mousedown",o=>{o.preventDefault(),a=!0,e.classList.add("active"),s=o.pageX-e.offsetLeft,n=e.scrollLeft}),e.addEventListener("mousemove",o=>{if(!a)return;o.preventDefault();const i=(o.pageX-e.offsetLeft-s)*1.5;e.scrollLeft=n-i}),e.addEventListener("mouseup",()=>{a=!1,e.classList.remove("active")}),e.addEventListener("mouseleave",o=>{o.preventDefault(),a=!1,e.classList.remove("active")}),t.addEventListener("click",()=>{e.scrollBy({left:400,behavior:"smooth"})}),l.addEventListener("click",()=>{e.scrollBy({left:-400,behavior:"smooth"})})}x();
