(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function l(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=l(s);fetch(s.href,n)}})();const u={_origin:"https://api.emailjs.com"},y=(t,e="https://api.emailjs.com")=>{u._userID=t,u._origin=e},_=(t,e,l)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!l)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class h{constructor(e){this.status=e.status,this.text=e.responseText}}const v=(t,e,l={})=>new Promise((i,s)=>{const n=new XMLHttpRequest;n.addEventListener("load",({target:o})=>{const a=new h(o);a.status===200||a.text==="OK"?i(a):s(a)}),n.addEventListener("error",({target:o})=>{s(new h(o))}),n.open("POST",u._origin+t,!0),Object.keys(l).forEach(o=>{n.setRequestHeader(o,l[o])}),n.send(e)}),L=(t,e,l,i)=>{const s=i||u._userID;return _(s,t,e),v("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:s,service_id:t,template_id:e,template_params:l}),{"Content-type":"application/json"})},E=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},b=(t,e,l,i)=>{const s=i||u._userID,n=E(l);_(s,t,e);const o=new FormData(n);return o.append("lib_version","3.2.0"),o.append("service_id",t),o.append("template_id",e),o.append("user_id",s),v("/api/v1.0/email/send-form",o)},g={init:y,send:L,sendForm:b};g.init("sbsKP6cxLV1RTHhfM");function w(t,e,l){const i=r=>{const c=r.split(" ");return c.length===2&&c[0].length>2&&c[1].length>2},s=r=>r.length===15,n=r=>/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(r),o={phone:s(e),email:n(l),fullName:i(t)};return{isValid:o.phone&&o.email&&o.fullName,validateFullForm:o}}function N(){const t=document.getElementById("fullName");t.addEventListener("input",()=>{const s=t.value.replace(/[^а-яА-ЯёЁ\s]/g,"").split(/\s+/);s.length>2&&(s.length=2),t.value=s.join(" ")}),document.getElementById("phone").addEventListener("input",i=>{let s=i.target.value.replace(/\D/g,""),n="8 ";s.length>1&&(n+=`${s.slice(1,4)} `),s.length>=4&&(n+=`${s.slice(4,7)} `),s.length>=7&&(n+=`${s.slice(7,9)} `),s.length>=9&&(n+=`${s.slice(9,11)}`),i.target.value=n.trim()});const l=document.getElementById("email");l.addEventListener("input",()=>{let i=l.value;l.value=i.replace(/[^a-zA-Z0-9@._-]/g,"")})}function S(){const t=document.querySelector("form"),e=document.querySelector(".input__name"),l=document.querySelector(".input__email"),s={phone:document.querySelector(".input__phone"),email:l,fullName:e};t.addEventListener("submit",n=>{n.preventDefault();const o=new FormData(t),a=Object.fromEntries(o.entries()),{isValid:r,validateFullForm:c}=w(a.fullName,a.phone,a.email);r?(g.send("service_16o9y43","template_v2bgugl",{from_name:"Алексей",to_name:"Гротеск",fullName:a.fullName,email:a.email,phone:a.phone}).then(()=>{t.reset(),alert("Email отправлен!")}).catch(d=>alert("Ошибка: "+d.text)),Object.keys(c).forEach(d=>{s[d].classList.remove("error")})):Object.keys(c).forEach(d=>{c[d]?s[d].classList.remove("error"):s[d].classList.add("error")})})}class T{constructor({content:e="",className:l="",outsideClick:i=!0,outsideContains:s="",whereAdd:n="document",handleToggle:o}={}){this.content=e,this.className=l,this.outsideClick=i,this.whereAdd=n,this.modalElement=null,this.outsideContains=s,this.isOpen=!1,this.eventClose=this.handleOutsideClick.bind(this),this.handleToggle=o}render(){const e=document.createElement("div");if(e.classList.add("modal"),this.className&&e.classList.add(`modal__${this.className}`),e.innerHTML=`
        <div class="modal__content ${this.className?`modal__content-${this.className}`:""}">
            <div class="modal__body ${this.className?`modal__body-${this.className}`:""}">${this.content}</div>
        </div>
        `,this.whereAdd==="document")document.body.appendChild(e);else{const l=document.querySelector(this.whereAdd);l.insertBefore(e,l.childNodes[0])}this.modalElement=e}open(){this.render(),this.init(),this.isOpen=!0,this.outsideClick&&(document.body.style.overflow="hidden"),this.handleToggle&&this.handleToggle()}close(){this.isOpen=!1,this.eventClose&&this.outsideClick&&window.removeEventListener("click",this.eventClose),this.outsideClick&&(document.body.style.overflow="visible"),this.modalElement&&(this.modalElement.remove(),this.modalElement=null),this.handleToggle&&this.handleToggle()}init(){const e=document.querySelectorAll(".close__modal");e&&e.forEach(l=>{l.addEventListener("click",()=>this.close())}),this.outsideClick&&window.addEventListener("click",this.eventClose)}handleOutsideClick(e){(e.target.classList.contains("modal")||e.target.classList.contains("modal__content")||e.target.classList.contains(this.outsideContains))&&this.close()}}const f=document.querySelector(".header__burger"),p=document.querySelector(".header__close");function q(){document.querySelector(".header__button").addEventListener("click",C)}function C(){m.isOpen?m.close():m.open()}function O(){m.isOpen?(f.style.display="none",p.style.display="block"):(f.style.display="block",p.style.display="none")}const m=new T({content:`<section class="menu">
        <h3 class="H3">Меню</h3>
        <hr class="menu__divider">
        <nav class="menu__nav">
            <a href="#team" class="tab primary close__modal">
                <span class="T3 menu__text">Первый экран</span>
            </a>
            <a href="#features" class="tab primary close__modal">
                <span class="T3 menu__text">Слайдер</span>
            </a>
            <a href="#answers" class="tab primary close__modal">
                <span class="T3 menu__text">Интересные ответы</span>
            </a>
            <a href="#challenge" class="tab primary close__modal">
                <span class="T3 menu__text">Форма обратной связи</span>
            </a>
        </nav>
    </section>`,className:"menu",whereAdd:".header__wrapper",outsideContains:"header__main",handleToggle:O}),F=document.querySelector(".team__img-3"),k=()=>{j(".accordion__button",x),I(".switch__color",D),q(),A(),N(),S()};function x(t){t.closest(".accordion").classList.toggle("hidden")}function D(){F.classList.toggle("reverse")}function I(t,e){const l=document.querySelector(t);l.addEventListener("click",()=>e(l))}function j(t,e){document.querySelectorAll(t).forEach(i=>{i.addEventListener("click",()=>e(i))})}function A(){const t=document.querySelector(".features__slider"),e=document.querySelector(".features__buttons-arrow1"),l=document.querySelector(".features__buttons-arrow2");let i=!1,s,n;t.addEventListener("mousedown",o=>{o.preventDefault(),i=!0,t.classList.add("active"),s=o.pageX-t.offsetLeft,n=t.scrollLeft}),t.addEventListener("mousemove",o=>{if(!i)return;o.preventDefault();const r=(o.pageX-t.offsetLeft-s)*1.5;t.scrollLeft=n-r}),t.addEventListener("mouseup",()=>{i=!1,t.classList.remove("active")}),t.addEventListener("mouseleave",o=>{o.preventDefault(),i=!1,t.classList.remove("active")}),e.addEventListener("click",()=>{t.scrollBy({left:400,behavior:"smooth"})}),l.addEventListener("click",()=>{t.scrollBy({left:-400,behavior:"smooth"})})}k();
